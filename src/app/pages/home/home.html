<main class="bg-sparkles">
  <section class="card">
    @if (loading) {
    <div class="status" role="status">Loading‚Ä¶</div>
    } @else if (error) {
    <div class="status error" role="alert">{{ error }}</div>
    } @else if (config) {
    <div class="top">
      <button class="theme-toggle" (click)="toggleTheme()">
        {{ theme === 'light' ? 'üåô' : '‚òÄÔ∏è' }}
      </button>
      <div class="avatar-ring" aria-hidden="true">
        <img class="avatar" [src]="config.profile.avatarUrl" alt="Profile avatar" />
      </div>

      <div class="title">
        <h1>{{ config.profile.name }}</h1>
        <p class="handle">{{ config.profile.handle }}</p>
      </div>

      <p class="bio">{{ config.profile.bio }}</p>
    </div>

    <div class="links" role="list">
      @for (link of config.links; track link.url) {
      <a class="link" role="listitem" [href]="link.url" target="_blank" rel="noopener noreferrer">
        <div class="left">
          <span class="emoji" aria-hidden="true">{{ link.emoji || 'üíó' }}</span>
          <div class="meta">
            <div class="label-row">
              <span class="label">{{ link.label }}</span>
              @if (link.isNew) {
              <span class="pill">new</span>
              }
            </div>
            @if (link.description) {
            <span class="desc">{{ link.description }}</span>
            }
          </div>
        </div>

        <span class="chev" aria-hidden="true">‚Ä∫</span>
      </a>
      }
    </div>

    <footer class="footer">
      <span class="tiny">{{ config.footer.text }}</span>
    </footer>
    } @else {
    <div class="status error" role="alert">No config loaded.</div>
    }
  </section>
</main>